# WhereHouse 부동산 추천 시스템 UI 명세서

**프로젝트**: WhereHouse - 서울시 맞춤형 부동산 추천 플랫폼  
**문서 버전**: 1.0  
**작성일**: 2025년 9월 17일

---

## 목차

1. [문서 개요](#문서-개요)
2. [프로젝트 배경](#프로젝트-배경)
3. [사용자 입력 시스템 설계](#사용자-입력-시스템-설계)
4. [기능별 상세 명세](#기능별-상세-명세)
5. [기술적 구현 요구사항](#기술적-구현-요구사항)
6. [추천 결과 표시 시스템](#추천-결과-표시-시스템)

---

## 문서 개요

### 문서 목적

본 명세서는 WhereHouse 부동산 추천 시스템의 **사용자 입력 인터페이스** 구현을 위한 포괄적인 기술 문서다. 개발팀이 일관되고 품질 높은 사용자 경험을 제공할 수 있도록 입력 폼의 모든 기능적 요구사항과 기술적 구현 지침을 정의한다.

### 문서 범위

**포함 사항**:
- 3단계 입력 프로세스 (기본조건 → 우선순위 → 유연성) 완전한 명세
- 실시간 입력 검증 로직 및 에러 처리 방안
- 접근성 및 사용성 가이드라인
- 백엔드 API 연동을 위한 데이터 형식 정의

**제외 사항**:
- 추천 결과 표시 인터페이스
- 지도 시각화 기능
- 백엔드 추천 알고리즘 로직

---

## 프로젝트 배경

### 비즈니스 요구사항

WhereHouse는 서울시 부동산 시장의 정보 비대칭 문제를 해결하기 위한 데이터 기반 추천 플랫폼이다. 사용자가 자신의 상황과 가치관에 맞는 최적의 거주지를 찾을 수 있도록 **개인화된 추천 서비스**를 제공한다.

### 핵심 해결 과제

1. **복잡한 의사결정 단순화**: 가격, 안전성, 편의성 등 다면적 요소를 고려한 체계적 선택 지원
2. **개인 맞춤형 추천**: 사용자별로 다른 우선순위와 제약조건을 정확히 반영
3. **매물 부족 상황 대응**: 이상적 조건을 만족하는 매물이 부족할 때의 지능적 대안 제시

### 입력 시스템의 전략적 중요성

사용자 입력 인터페이스는 전체 추천 품질을 결정하는 **핵심 접점**이다. 정확하고 완전한 입력 데이터 확보 없이는 아무리 정교한 추천 알고리즘도 의미있는 결과를 제공할 수 없다. 따라서 본 시스템은 다음 원칙을 기반으로 설계된다:

- **직관적 사용성**: 부동산 전문 지식이 없는 일반 사용자도 쉽게 완료 가능
- **정보 완전성**: 정확한 추천을 위한 모든 필수 정보의 체계적 수집
- **유연한 개인화**: 다양한 사용자 상황과 선호도를 수용할 수 있는 확장성

---

## 사용자 입력 시스템 설계

### 전체 프로세스 개요

사용자 입력은 **점진적 정보 수집(Progressive Information Gathering)** 방식을 채택하여 3단계로 구성된다. 각 단계는 명확한 목적과 논리적 연관성을 가지며, 사용자의 인지 부담을 최소화하면서도 추천 품질에 필요한 모든 정보를 수집한다.

```
1단계: 기본 조건 설정
   ↓ (객관적 제약조건 확정)
2단계: 우선순위 설정  
   ↓ (개인 가치관 반영)
3단계: 유연성 설정
   ↓ (예외 상황 대응책 마련)
추천 결과 생성
```

### 단계별 설계 철학

**1단계 - 기본 조건**: 타협할 수 없는 **객관적 제약조건**을 수집한다. 예산 범위, 필요 공간 크기, 임대 방식 등 사용자의 현실적 제약을 명확히 파악한다.

**2단계 - 우선순위**: 여러 요소 중 무엇을 더 중시하는지에 대한 **개인 가치관**을 파악한다. 동일한 조건이라도 사용자별로 다른 추천 결과를 제공하는 핵심 차별화 요소다.

**3단계 - 유연성**: 이상적 조건을 만족하는 매물이 부족할 때를 대비한 **대안 전략**을 사전에 설정한다. 이를 통해 어떤 상황에서도 의미있는 추천을 제공할 수 있다.

---

## 기능별 상세 명세

### 1단계: 기본 조건 설정

#### 1.1 임대 유형 선택

**비즈니스 목적**: 전세와 월세는 완전히 다른 금융 구조를 가지므로 최우선 분기점이다.

**기능 명세**:
- 전세(CHARTER) 또는 월세(MONTHLY) 중 단일 선택
- 라디오 버튼 그룹으로 구현하여 명확한 선택 보장
- 기본 선택값: 전세 (한국 부동산 시장의 일반적 선호도 반영)

**UI 동작 요구사항**:
- 월세 선택 시: 월세 범위 입력 필드 자동 노출
- 전세 선택 시: 월세 관련 필드 즉시 숨김
- 선택 변경 시 100ms 이내 부드러운 전환 효과

#### 1.2 예산 범위 설정

**비즈니스 목적**: 부동산 선택의 가장 현실적이고 중요한 제약조건이다.

**기능 명세**:
- 최소 예산과 최대 예산을 만원 단위로 입력
- 전세: 전세금 범위 / 월세: 보증금 범위로 의미 변경
- 입력 제한: 양의 정수만 허용, 최소값 ≤ 최대값 검증

**데이터 검증 규칙**:
- 필수 입력: 빈 값 입력 시 즉시 에러 표시
- 범위 논리: 최소값이 최대값보다 클 경우 "최대 예산이 최소 예산보다 크거나 같아야 한다" 에러
- 현실성 검증: 1만원 미만 또는 50억원 초과 시 경고

#### 1.3 월세 추가 정보 (조건부)

**표시 조건**: 임대 유형이 월세로 선택된 경우에만 활성화

**기능 명세**:
- 월세 범위를 별도 입력 (만원 단위)
- 동일한 최소값 ≤ 최대값 규칙 적용

#### 1.4 주거 공간 크기 설정

**비즈니스 목적**: 거주 공간의 물리적 요구사항을 정의한다.

**기능 명세**:
- 최소 평수와 최대 평수를 평 단위로 입력

### 2단계: 우선순위 설정

#### 2.1 설계 배경

부동산 선택은 본질적으로 **다기준 의사결정(Multi-Criteria Decision Making)** 문제다. 동일한 예산과 조건이라도 개인의 가치관에 따라 최적 선택이 달라진다. 본 시스템은 이를 체계적으로 반영하기 위해 명시적 우선순위 설정을 도입했다.

#### 2.2 우선순위 옵션 정의

**PRICE (가격)**: 예산 대비 최대 가성비 추구

**SAFETY (안전성)**: 치안과 거주 환경의 안전 우선

**SPACE (공간)**: 충분한 거주 공간 확보 우선

#### 2.3 우선순위 입력 방식

**UI 구현**:
- 1순위, 2순위, 3순위를 각각 독립적인 드롭다운으로 구현
- 각 순위별 가중치(60%-30%-10%) 명시적 표시
- 중복 선택 방지를 위한 실시간 검증

**가중치 시스템 근거**:
- 1순위 60%: 의사결정에서 압도적 영향력을 가지는 핵심 요소
- 2순위 30%: 1순위를 보완하는 중요한 부차적 고려사항
- 3순위 10%: 미세한 차이를 만드는 최종 판단 요소

### 3단계: 유연성 설정

#### 3.1 설계 철학

부동산 시장의 현실적 제약을 인정하고, 이상적 조건을 만족하는 매물이 부족할 때를 대비한 **사전 대응 전략**을 수립한다. 이는 시스템이 임의로 조건을 완화하는 것이 아니라, 사용자가 미리 설정한 양보 기준에 따라 투명하게 처리된다.

#### 3.2 예산 유연성

**기능 목적**: 예산을 약간 초과하더라도 좋은 매물을 놓치지 않도록 한다.

**설정 방식**:
- 0%~50% 범위의 슬라이더 입력
- 기본값: 10% (현실적이면서도 보수적인 수준)
- 실시간 금액 표시: "예산 3000만원 → 최대 3300만원까지 허용"

**적용 로직**: 기본 조건으로 매물이 부족할 때만 활성화되는 조건부 완화

#### 3.3 최소 안전 점수

**기능 목적**: 개인의 안전 기준을 하회하는 지역은 절대 추천하지 않는다.

**설정 방식**:
- 0점~100점 범위의 슬라이더
- 기본값: 70점 (서울시 평균 수준)
- 점수별 가이드: "90점 이상: 매우 안전 / 70점 이상: 평균 수준 / 50점 이하: 신중 검토 필요"

#### 3.4 절대 최소 평수

**기능 목적**: 생활에 절대 필요한 최소 공간을 보장한다.

**설정 방식**:
- 직접 숫자 입력 (선택사항)
- 평 단위, 소수점 첫째 자리까지 허용
- 미입력 시: 시스템에서 합리적 최소값 자동 적용

---

## 기술적 구현 요구사항

### 실시간 입력 검증 시스템

#### 필수 필드 검증

**임대 유형 (leaseType)**:
- 검증 규칙: CHARTER 또는 MONTHLY만 허용
- 에러 메시지: "임대 유형은 CHARTER 또는 MONTHLY만 가능하다"

**예산 범위**:
- budgetMin: 0 이상의 정수, 필수 입력
- budgetMax: 0 이상의 정수, 필수 입력  
- 관계 검증: budgetMax >= budgetMin
- 에러 메시지: "최대 예산이 최소 예산보다 크거나 같아야 한다"

**평수 범위**:
- areaMin: 0.0 이상의 실수, 필수 입력
- areaMax: 0.0 이상의 실수, 필수 입력
- 관계 검증: areaMax >= areaMin  
- 에러 메시지: "최대 평수가 최소 평수보다 크거나 같아야 한다"

**우선순위 설정**:
- 각 순위: PRICE, SAFETY, SPACE 중 선택, 필수 입력
- 중복 검증: 모든 우선순위가 서로 달라야 함
- 에러 메시지: "우선순위는 중복될 수 없다"

#### 선택적 필드 검증

**예산 유연성 (budgetFlexibility)**:
- 범위: 0~100 정수
- 기본값: 0

**최소 안전 점수 (minSafetyScore)**:
- 범위: 0~100 정수  
- 기본값: 0

**절대 최소 평수 (absoluteMinArea)**:
- 범위: 0.0 이상의 실수
- 기본값: 0.0

#### 검증 트리거 정의

**제출 시 최종 검증**:
- 모든 필드의 종합적 유효성 재확인
- 논리적 일관성 검사 (우선순위 중복, 범위 관계 등)

#### 에러 메시지 시스템

각 에러 유형별로 JavaScript에서 즉각적인 사용자 알림을 제공한다.

### 접근성 구현 기준

#### 키보드 네비게이션

**탭 순서**: 논리적 입력 순서에 따른 일관된 포커스 이동
1. 임대 유형 선택
2. 예산 범위 (최소 → 최대)
3. 월세 범위 (조건부 표시 시)
4. 평수 범위 (최소 → 최대)
5. 우선순위 (1순위 → 2순위 → 3순위)
6. 유연성 설정 항목들
7. 제출 버튼

---

## 추천 결과 표시 시스템

### 시스템 설계 개요

추천 결과 표시 시스템은 사용자 입력을 통해 도출된 추천 결과를 효과적으로 전달하는 인터페이스다. 복잡한 부동산 데이터를 직관적으로 이해할 수 있도록 계층적 정보 구조와 단계적 탐색 방식을 채택한다.

### 정보 아키텍처

**1차 정보 레이어**: 지역구별 핵심 요약 정보  
**2차 정보 레이어**: 버튼 선택에 따른 세부 정보 화면 전환
- 상세 순위 정보 (통계 패널)
- 개별 매물 정보 (모달 창)

### 메인 추천 결과 화면

#### 화면 목적

사용자에게 최종 추천된 상위 3개 지역구의 핵심 정보를 간결하게 제공하여 빠른 비교와 추가 탐색을 유도한다.

#### 구성 요소 및 데이터 매핑

**안내 메시지**: API 응답 메시지를 화면 상단에 표시하여, 검색 결과가 정상인지 또는 조건이 완화되었는지 사용자에게 알린다.

**지역구 카드**: 추천 지역구 목록의 각 요소를 하나의 카드로 표현한다.

**순위 및 이름**: 순위와 지역구명을 사용한다.

**대표 매물 가격**: 추천 매물 목록의 **첫 번째 요소**를 대표 매물로 간주하고, 해당 매물의 가격과 임대 유형을 조합하여 표시한다.

**대표 추천 점수**: 대표 매물의 최종 점수를 표시한다. 이 점수는 사용자가 선택한 우선순위가 가중 적용된 종합 점수임을 나타낸다.

**버튼 영역**:

**상세 순위 보기 버튼**: 클릭 시 해당 지역구의 통계 순위 정보를 담은 우측 패널을 활성화한다.

**추천 매물 목록 버튼**: 클릭 시 해당 지역구의 추천 매물 리스트를 담은 모달 창을 활성화한다.

### 상세 순위 정보 패널

#### 화면 목적

사용자가 선택한 지역구의 안전 및 환경 관련 정량적 지표 순위를 제공하여, 객관적인 데이터 기반의 의사결정을 지원한다.

#### 구성 요소 및 데이터 매핑

**패널 헤더**:
- 패널 제목: "[동대문구] 상세 순위 정보" (선택된 지역구명 동적 표시)
- 위치: 우측 패널 (좌측 메인 패널 유지)

**주요 지표 순위 섹션**:
- 섹션 제목: "[ 주요 지표 순위 ]"
- 선택한 해당 구의 매물 비용 점수, 평수 점수, 주거지 추천 점수를 각각 세로 막대 그래프 형식으로 표시
- 각 점수는 0~100점 척도로 표현
- 그래프 구성 요소:
  - 매물 비용 점수: 해당 지역구 내 매물들의 평균 가격 점수 (높을수록 가성비 우수)
  - 평수 점수: 해당 지역구 내 매물들의 평균 공간 점수 (높을수록 넓은 평수)
  - 주거지 추천 점수: 해당 지역구의 안전성 점수 (높을수록 안전)
- 각 막대 그래프는 점수값과 함께 색상으로 시각적 구분
- 점수별 색상 기준: 80점 이상(녹색), 60-79점(노란색), 60점 미만(빨간색)

#### 활성화 조건

좌측 메인 패널의 "상세 순위 보기" 버튼 클릭 시 우측 패널이 활성화되며, 해당 지역구의 통계 순위 정보를 표시한다.

### 추천 매물 목록 모달

#### 화면 목적

사용자가 선택한 지역구 내에서, 자신의 조건에 부합하는 구체적인 추천 매물 목록을 상세히 탐색할 수 있도록 한다.

#### 구성 요소 및 데이터 매핑

**모달 제목**: 클릭된 지역구 카드의 지역구명을 동적으로 표시한다.

**매물 아이템**: 모달 내 스크롤 영역에 추천 매물 목록의 모든 요소를 순서대로 표시한다. 각 아이템은 다음 필드를 포함한다:

**제목**: 매물명과 추천 점수를 함께 표시하여 매물명과 종합 점수를 한눈에 보여준다.

**가격**: 가격과 임대 유형을 조합하여 "전세 X만원", "월세 X/Y만원" 형태로 표시한다.

**상세 정보**: 평수, 건축연도, 층수를 한 줄에 표시하여 공간 및 건물 정보를 요약 제공한다.

**주소**: 주소를 표시한다.

#### 상세 표시 예시

```
이펜하우스4단지   78.3점
───────────────────────────────────────────────────────────
가격: 전세 27,780만원
면적: 34.8평 (115.0㎡) │ 2011년 준공 │ 층: 7층
주소: 서울특별시 동대문구 신정동 1317
```

```
현대홈타운   77.9점
───────────────────────────────────────────────────────────
가격: 월세 5000/120만원
면적: 25.7평 (85.0㎡) │ 2003년 준공 │ 층: 15층
주소: 서울특별시 동대문구 답십리동 486
```

---

*본 문서는 WhereHouse 프로젝트의 지속적인 발전과 함께 업데이트된다. 최신 버전은 항상 프로젝트 저장소의 docs 폴더에서 확인할 수 있다.*