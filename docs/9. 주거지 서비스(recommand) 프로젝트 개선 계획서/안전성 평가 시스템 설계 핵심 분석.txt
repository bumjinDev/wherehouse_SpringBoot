# 안전성 평가 시스템 설계 핵심 분석

## 1. '단순 검거율' 지표의 근본적 한계

안전성 평가 시스템 설계에서 '단순 검거율'을 안전의 척도로 삼는 것은 근본적인 한계가 있다. 이는 실제 현상을 바탕으로 모델의 타당성을 비판적으로 검토한 결과이다.

### 사후 지표 vs 사전 지표의 근본적 차이

'검거율'은 사건이 이미 발생한 후의 경찰의 대응 능력을 측정하는 '사후(Reactive)' 지표이다. 반면, 주민이 느끼는 '체감 안전'은 사건이 애초에 발생하지 않을 것이라는 기대감을 나타내는 '사전(Proactive)' 지표이다. 이 둘은 측정하는 대상 자체가 근본적으로 다르다.

### 논리적 모순의 구체적 사례

살인죄를 예로 들면, 살인죄의 검거율은 통상 90%를 넘지만, 그렇다고 해서 살인사건이 많이 발생하는 지역을 '안전하다'고 말할 수는 없다. 오히려 검거율이 높다는 것은 그만큼 심각한 범죄가 자주 발생하여 경찰의 대응이 많았다는 의미일 수 있다.

### 통계적 왜곡 문제

빅데이터 분석 보고서(4조_2팀_빅데이터분석결과보고서_v0.1.docx)에서도 이와 유사한 결론을 내리고 있다. 보고서는 "단순 범죄율만으로는 지역의 특성을 완벽히 설명할 수 없으며", "범죄 발생에 영향을 미치는 다른 사회경제적 요인들을 함께 고려해야 한다"고 명시하고 있다. 이는 '검거율'이라는 단일 지표가 아닌, 범죄가 발생하는 '환경' 자체를 분석해야 한다는 점을 뒷받침한다.

## 2. Proxy 모델의 설계 우수성

### 환경적 요인 중심의 사전 예방 접근

현재 설계된 'Proxy 모델'은 '검거율'과 같은 사후 지표를 배제하고, '체감 안전'에 직접적으로 영향을 미치는 사전적, 환경적 요인에 집중한다. 이러한 문제 때문에 'Proxy 모델'은 범죄가 발생하기 어려운 환경인지를 측정하는 방식을 택했다.

### 빅데이터 분석 결과의 뒷받침

빅데이터 분석 보고서는 "CCTV 설치 대수와 같은 물리적 환경 요소가 범죄율과 유의미한 관계를 보였다"고 분석하며, "경찰서와의 거리 또한 치안 서비스 접근성에 영향을 미치는 중요한 변수"임을 시사한다. 이는 선정한 핵심 지표들이 왜 타당한지에 대한 강력한 근거가 된다.

### 핵심 지표의 체계적 분류

**공식적 감시 요소**
- CCTV 밀도, 파출소와의 거리: 보고서가 언급한 대로, 범죄를 사전에 억제하는 '공식적 감시' 기능에 해당한다.

**자연적 감시 요소**
- 가로등 밀도, 24시간 편의점 수: 범죄 심리를 위축시키는 '자연적 감시' 역할을 한다.

**위험 요인 측정**
- 유흥업소 밀도: 범죄 발생 가능성이 높은 환경적 위험 요인을 측정한다.

### 사용자 요구에 부합하는 가치 제공

결론적으로, '검거율'을 사용하는 것은 이미 벌어진 범죄의 뒷수습을 보는 것이고, Proxy 모델은 범죄가 발생하기 어려운 환경인지를 측정하는 것이다. 1인 가구 주민이 원하는 것은 '범인이 잘 잡히는 동네'가 아니라 '범죄가 잘 일어나지 않는 동네'이므로, 현재 아키텍처 방향이 사용자의 요구에 훨씬 더 부합한다.

## 3. 데이터 기반 가중치 설정 방법론

### 상관관계 기반 가중치 설정의 합리성

인구 규모당 전체 범죄율을 계산하여 가장 높은 범죄율 지역과 가장 낮은 범죄율 지역을 Java 기술을 사용해서 수치화한 다음, 연관되는 가장 높은 범죄율이 발생하는 종속변수에 그만큼 가중치를 두는 접근법은 매우 합리적이고 통계적인 방법이다. 이는 주관적인 판단에서 벗어나 데이터 스스로가 중요도를 말하게 하려는 시도로서, 아키텍처의 객관성과 설득력을 크게 높인다.

### 상관관계 분석의 핵심 원리

이 아이디어의 핵심은 "범죄율이 높은 지역에서 공통적으로 나타나는 환경적 특성을 찾아내고, 그 특성에 높은 가중치를 부여하자"는 것이다. 이는 통계학에서 상관관계 분석(Correlation Analysis)을 통해 변수의 중요도를 파악하는 방식과 정확히 일치한다.

### 구체적인 실행 프레임워크

**1단계: 분석용 데이터셋 구축 (Dataset Construction)**

상관관계를 분석할 수 있는 형태의 단일 데이터 테이블을 만들어야 한다.

구조:
- 행(Row): 서울시 25개 자치구 (또는 더 세분화된 지역 단위)
- 열(Column):
  - 인구수
  - 총범죄발생건수
  - 인구대비_범죄율 (종속변수)
  - CCTV_밀도 (독립변수 1)
  - 유흥업소_수 (독립변수 2)
  - 파출소_거리 (독립변수 3)
  - 공원_면적 (독립변수 4)
  - ... 등 수집한 모든 환경 변수

**2단계: 상관관계 분석 (Correlation Analysis)**

각 '환경 변수(독립변수)'가 '인구대비 범죄율(종속변수)'과 얼마나 강한 관계를 갖는지 통계적으로 계산한다.

방법: 피어슨 상관 계수(Pearson Correlation Coefficient)를 계산한다. 이 계수는 -1부터 1 사이의 값을 가지며, 1이나 -1에 가까울수록 강한 관계를 의미한다.

기술 구현: Apache Commons Math 라이브러리의 PearsonsCorrelation 클래스를 사용하여 Java로 직접 구현할 수 있다.

**3단계: 가중치 설정 (Weight Setting)**

분석 결과를 바탕으로 가중치를 할당한다.

규칙: 상관 계수의 절댓값이 높게 나타난 환경 변수일수록, '범죄율'에 더 큰 영향을 미치는 중요한 변수라고 '가설'을 세우고, 더 높은 가중치를 부여한다.

예시: 만약 '유흥업소 수'의 상관 계수가 +0.7이고 'CCTV 밀도'의 상관 계수가 -0.6이라면, '유흥업소 수'가 CCTV보다 범죄율에 더 큰 영향을 미치는 변수라고 판단하여 더 높은 가중치를 할당할 수 있다.

## 4. 상관관계와 인과관계의 구분

### 통계 분석의 중요한 함정

상관관계는 인과관계가 아니다. 예를 들어 '편의점 수'와 '범죄율'이 높은 상관관계를 보일 수 있다. 이는 '편의점이 범죄를 유발한다'는 인과관계를 의미하는 것이 아니라, '유동인구가 많은 상업지역에 편의점과 범죄가 모두 집중된다'는 제3의 요인 때문일 수 있다.

### 아키텍처적 접근 방식

따라서, 이 통계적 분석 결과는 **'절대적인 진리'가 아닌, 가중치에 대한 '가장 합리적인 초기 가설'**로 사용해야 한다. "데이터 분석 결과, 이러한 변수들이 범죄율과 높은 관련성을 보여, 이를 바탕으로 가중치를 설정했다"고 명시하는 것만으로도 이전의 주관적 판단과는 차원이 다른 설득력을 갖게 된다.

## 5. 통계적 근거의 본질과 한계

### 객관적 근거 마련의 필요성

가중치 설정에 있어 정확한 수치적 근거를 개별적으로 찾기 어려운 상황에서, 통계적 분석을 통해 객관적이고 방어 가능한 근거를 마련하고자 한다. 이는 주관적 판단의 한계를 보완하기 위한 방법론적 접근이다.

상관관계 분석을 통해 얻는 '근거'의 본질은 다음과 같다:

**객관성 (Objectivity)**
'검거율'이나 개인적인 직감에 의존하는 것보다, 실제 데이터의 패턴을 기반으로 하므로 훨씬 객관적이다. "A라는 변수가 B라는 결과와 통계적으로 높은 관련이 있음을 확인했다"는 사실은 누구도 부정할 수 없는 객관적인 출발점이다.

**투명성 (Transparency)**
가중치를 설정한 이유를 명확하게 설명할 수 있다. "시스템은 유흥업소 수에 높은 위험 가중치를 부여한다. 왜냐하면, 실제 데이터 분석 결과 범죄율과 가장 높은 양의 상관관계를 보였기 때문이다."와 같이 설계 결정의 모든 과정을 추적하고 방어할 수 있다.

**개선 가능성 (Iterability)**
이 모델은 완벽하지 않기에 오히려 더 강력하다. 만약 서비스 운영 후 사용자의 피드백이나 새로운 데이터가 가설과 다르다는 것을 보여준다면, 언제든지 데이터를 다시 분석하여 가중치를 합리적으로 수정하고 시스템을 개선할 수 있다.

**결론**
개별 환경 변수에 대한 정확한 가중치를 직관적으로 판단하기 어려운 상황에서, **'데이터에 기반하여 투명하게 수립된, 지속적으로 개선 가능한 통계적 근거'**를 확보하는 것이 핵심 목표이다. 이를 통해 주관적 설계를 넘어선 공학적 설계 방법론을 구축할 수 있다.

## 6. 피어슨 상관계수 기반 가중치 산정 명세

### 상관계수 정의 및 범위

피어슨 상관계수는 두 변수 간의 선형 관계의 강도와 방향을 측정하는 통계적 지표이다.

**수치 범위**: -1 ≤ r ≤ +1
- r = +1: 완전한 양의 선형 관계
- r = 0: 선형 관계 없음
- r = -1: 완전한 음의 선형 관계

### 기술적 구현 방식

**라이브러리**: Apache Commons Math의 PearsonsCorrelation 클래스
**입력 데이터**: 인구대비 범죄율(종속변수)과 각 환경변수(독립변수) 간의 페어링된 데이터셋
**출력**: 각 환경변수별 상관계수 값(-1~+1)

## 7. 가중치 산정 알고리즘 명세

### 상관계수 분해 원칙

상관계수 r은 두 개의 독립적 정보를 포함한다:
- **방향성**: sign(r) ∈ {-1, +1}
- **영향력 강도**: |r| ∈ [0, 1]

### 가중치 산정 공식

**기본 원칙**: 가중치 = f(|r|)
- 가중치는 상관계수의 절댓값에 정비례한다
- 방향성(부호)은 점수 계산 시 적용하며, 가중치 자체에는 반영하지 않는다

**구체적 산정 방식**:
```
Weight_i = |r_i| × 100  (백분율 가중치)
또는
Weight_i = |r_i|^α × K  (비선형 변환, α는 조정 파라미터, K는 스케일링 상수)
```

### 방향성 기반 점수 적용 규칙

| 상관계수 부호 | 범죄율과의 관계 | 점수 적용 방식 |
|--------------|----------------|---------------|
| r > 0 | 정비례 관계 (위험 요인) | 감점 처리 |
| r < 0 | 반비례 관계 (안전 요인) | 가점 처리 |
| r ≈ 0 | 무관 | 점수 반영 제외 |

## 8. 안전성 점수 계산 알고리즘

### 이중 판정 체계

안전성 점수 계산을 위해 각 환경 변수에 대해 두 가지 판정을 수행한다:

**판정 1: 영향력 강도 측정**
- 목적: 가중치 크기 결정
- 방법: |상관계수| 값을 기준으로 중요도 순위 매김
- 임계값: |r| ≥ 0.3 (통계적 유의성 기준선)

**판정 2: 안전성 방향 판정**
- 목적: 가점/감점 여부 결정
- 방법: 상관계수 부호 확인
- 규칙:
  - r > 0 → 위험 요인 → 감점 적용
  - r < 0 → 안전 요인 → 가점 적용

### 점수 계산 공식

```
최종점수 = Σ(정규화된_환경변수값_i × Weight_i × Direction_i)

where:
- Weight_i = |r_i| × 스케일링_팩터
- Direction_i = sign(r_i) ∈ {-1, +1}
- 정규화된_환경변수값_i ∈ [0, 1]
```

### 변수별 처리 예시

| 환경 변수 | 상관계수 | |상관계수| | 가중치 | 방향 | 최종 처리 |
|-----------|----------|----------|--------|------|-----------|
| 유흥업소 밀도 | +0.7 | 0.7 | 높음 | 위험(+) | 높은 가중치로 감점 |
| CCTV 밀도 | -0.6 | 0.6 | 중간 | 안전(-) | 중간 가중치로 가점 |
| 공원 면적 | -0.1 | 0.1 | 낮음 | 안전(-) | 낮은 가중치로 가점 |

## 9. 시스템 설계 고려사항

### 상관관계의 통계적 한계

**핵심 원칙**: 상관관계 ≠ 인과관계
- 높은 상관계수가 인과 관계를 보장하지 않음
- 제3의 변수(confounding variable)가 영향을 미칠 수 있음
- 통계적 유의성과 실용적 유의성을 구분해야 함

### 모델 신뢰성 확보 방안

**다중 검증 체계**
1. 교차 검증(Cross-validation)을 통한 과적합 방지
2. 지역별 하위 표본을 이용한 일관성 검증
3. 시계열 안정성 테스트

**임계값 설정**
- 최소 상관계수: |r| ≥ 0.3 (중간 강도 이상만 반영)
- 통계적 유의수준: p < 0.05
- 표본 크기: n ≥ 25 (서울시 자치구 수)

### 지속적 개선 체계

**모델 업데이트 주기**
- 분기별 상관계수 재계산
- 연간 가중치 체계 전면 재검토
- 사용자 피드백 기반 실시간 조정

## 10. 실행 계획과 기술적 준비사항

### 즉시 실행해야 할 과제

**1단계: 분석용 데이터셋 구축**
- 서울시 25개 자치구에 대한 모든 변수(인구수, 총범죄 건수, 수집 가능한 모든 환경 데이터)를 하나의 테이블(CSV 또는 DB)로 정리하는 작업이 가장 시급한 과제이다.
- 이 데이터셋이 완성되면, 2단계 상관관계 분석을 진행하여 가중치의 근거를 마련할 수 있다.

### 기술적 구현 준비

**Apache Commons Math 활용**
- Apache Commons Math 라이브러리의 PearsonsCorrelation 클래스 활용 준비
- 안전성 점수 시스템 설계 - Apache Commons Math 기반 구현.md 문서에서 언급된 통계적 접근을 위한 기술적 준비가 이미 고려되고 있어 매우 좋은 방향성이다.

### 데이터 기반 아키텍처의 의의

이 명확한 근거를 바탕으로, 자신감을 가지고 Proxy 모델의 기술 검증(PoC)을 계속 진행할 수 있다. 이 방법론은 주관성을 배제하고 시스템의 논리적 근거를 데이터 자체에서 찾으려는 매우 성숙한 방식이다.