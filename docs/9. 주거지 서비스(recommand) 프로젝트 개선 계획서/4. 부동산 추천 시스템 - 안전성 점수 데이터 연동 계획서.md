# ë¶€ë™ì‚° ì¶”ì²œ ì‹œìŠ¤í…œ - ì•ˆì „ì„± ì ìˆ˜ ë°ì´í„° ì—°ë™ ëª…ì„¸ì„œ (ì™„ì „íŒ)

**í”„ë¡œì íŠ¸ëª…:** Phase 2 ì¶”ì²œ ì—”ì§„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì„¤ê³„ - ì•ˆì „ì„± ì ìˆ˜ ë°ì´í„° ì—°ë™ ë¶€ë¬¸  
**ë²„ì „:** 3.3 (ê²½ì°°ì‹œì„¤ ë°ì´í„° ì¶”ê°€)  
**ì‘ì„±ì¼:** 2025.08.21  
**ì—…ë°ì´íŠ¸:** ëª¨ë“  ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ API ë° ë°ì´í„° ì†ŒìŠ¤ ì™„ì „ ë°˜ì˜  

---

## ëª©ì°¨

1. [ë°ì´í„° ì—°ë™ ì „ëµ ê°œìš”](#1-ë°ì´í„°-ì—°ë™-ì „ëµ-ê°œìš”)
2. [ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ì•ˆì „ì„± ì ìˆ˜ ë°ì´í„° ì†ŒìŠ¤](#2-ì‹¤ì œ-ì‚¬ìš©-ê°€ëŠ¥í•œ-ì•ˆì „ì„±-ì ìˆ˜-ë°ì´í„°-ì†ŒìŠ¤)
3. [ì‹¤ì œ API ì—°ë™ ê¸°ìˆ  ëª…ì„¸](#3-ì‹¤ì œ-api-ì—°ë™-ê¸°ìˆ -ëª…ì„¸)
4. [ì‹¤ì œ êµ¬í˜„ì‹œ ì£¼ì˜ì‚¬í•­](#4-ì‹¤ì œ-êµ¬í˜„ì‹œ-ì£¼ì˜ì‚¬í•­)
5. [ë§ˆë¬´ë¦¬](#5-ë§ˆë¬´ë¦¬)

---

## 1. ë°ì´í„° ì—°ë™ ì „ëµ ê°œìš”

### 1.1 í˜„ì¬ ìƒí™© ë¶„ì„

**í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­**: ë°°ì¹˜ ê¸°ë°˜ 2ë‹¨ê³„ ë ˆì´ì–´ ì•ˆì „ì„± ì ìˆ˜ ê³„ì‚°ì„ ìœ„í•œ ì‹¤ì œ ë°ì´í„° ìˆ˜ì§‘

```
ğŸ“Š ì™„ì „í•œ ì•ˆì „ì„± ì ìˆ˜ ë°ì´í„° ìˆ˜ì§‘ ë²”ìœ„
â”œâ”€â”€ Layer 1: ê±°ì‹œì  ì•ˆì „ë„ ë°ì´í„°
â”‚   â”œâ”€â”€ ê³µê³µë°ì´í„°í¬í„¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ê²½ì°°ì²­ 5ëŒ€ë²”ì£„ í†µê³„)
â”‚   â””â”€â”€ ì„œìš¸ì‹œ ì—´ë¦°ë°ì´í„°ê´‘ì¥ (êµ¬ë³„ ë²”ì£„í†µê³„)
â”œâ”€â”€ Layer 2: ë¯¸ì‹œì  ìœ„í—˜ë„ ë°ì´í„°
â”‚   â”œâ”€â”€ KAKAO MAP API ì‹œì„¤ë¬¼ ì •ë³´ (ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥)
â”‚   â”œâ”€â”€ ê³µê³µë°ì´í„° í‘œì¤€ íŒŒì¼ (ì „êµ­CCTV, ê°€ë¡œë“±)
â”‚   â”œâ”€â”€ í•œêµ­í˜•ì‚¬ë²•ë¬´ì •ì±…ì—°êµ¬ì› API (ë²”ì£„í†µê³„)
â”‚   â””â”€â”€ ê²½ì°°ì²­ ê²½ì°°ì‹œì„¤ í‘œì¤€ë°ì´í„° (ì§€êµ¬ëŒ€/íŒŒì¶œì†Œ)

ğŸ¯ ìµœì¢… ìˆ˜ì§‘ ëª©í‘œ: ê²©ìë³„ ì™„ì „í•œ í™˜ê²½ ë°ì´í„° í™•ë³´
â””â”€â”€ ë°°ì¹˜ ì²˜ë¦¬ìš© ì›ì‹œ ë°ì´í„° ìˆ˜ì§‘ í›„ DB/Redis ì €ì¥
```

### 1.2 ì‹¤ì œ ë°ì´í„° ì—°ë™ ì›ì¹™

| ì›ì¹™ | ë‚´ìš© | êµ¬í˜„ ë°©ë²• |
|------|------|-----------|
| **í˜¼í•© ìˆ˜ì§‘ ë°©ì‹** | API + íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë³‘í–‰ | ë°ì´í„° ì†ŒìŠ¤ë³„ ìµœì  ë°©ë²• ì ìš© |
| **ê³µê³µë°ì´í„° ìš°ì„ ** | ì‹ ë¢°ì„± ìˆëŠ” ê³µì‹ í†µê³„ í™œìš© | ê³µê³µë°ì´í„°í¬í„¸/ì„œìš¸ì‹œ ì¤‘ì‹¬ |
| **API í˜¸ì¶œ ìµœì í™”** | ë¹„ìš© ë° ì„±ëŠ¥ ìµœì í™” | ë¬´ë£Œ API ìš°ì„ , ìœ ë£Œ API ìµœì†Œí™” |
| **ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬** | ìˆ˜ì§‘ ë°ì´í„° ê²€ì¦ ë° ì •ì œ | íŒŒì¼ íŒŒì‹± + API ê²€ì¦ |

---

## 2. ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ì•ˆì „ì„± ì ìˆ˜ ë°ì´í„° ì†ŒìŠ¤

### 2.1 ê²½ì°°ì²­ ë²”ì£„ í†µê³„ ë°ì´í„° (íŒŒì¼ ê¸°ë°˜)

#### A. ê³µê³µë°ì´í„°í¬í„¸ - ê²½ì°°ì²­ 5ëŒ€ë²”ì£„ ë°œìƒê±´ìˆ˜

* **URL**: https://www.data.go.kr/data/15083810/fileData.do
* **ì œê³µë°©ì‹**: Excel/CSV íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ë¬´ë£Œ)
* **ê°±ì‹ ì£¼ê¸°**: ì—° 1íšŒ (ë§¤ë…„ ì—…ë°ì´íŠ¸)
* **ì„¤ëª…**: 2018ë…„~2023ë…„ 5ëŒ€ë²”ì£„ ë°œìƒê±´ìˆ˜ í†µê³„

**ğŸ“Š ì‹¤ì œ ì œê³µ ë°ì´í„° í•­ëª©**
| í•­ëª© | íŒŒì¼ ì»¬ëŸ¼ëª… | ë°ì´í„° íƒ€ì… | ìˆ˜ì§‘ ìš©ë„ |
|------|-----------|------------|----------|
| **ì—°ë„** | year | String | ì‹œê³„ì—´ ë¶„ì„ |
| **ì§€ì—­ëª…** | region_name | String | ì§€ì—­ ë§¤í•‘ |
| **ì‚´ì¸** | murder | Integer | ë²”ì£„ í†µê³„ |
| **ê°•ë„** | robbery | Integer | ë²”ì£„ í†µê³„ |
| **ê°•ê°„/ê°•ì œì¶”í–‰** | sexual_crime | Integer | ë²”ì£„ í†µê³„ |
| **ì ˆë„** | theft | Integer | ë²”ì£„ í†µê³„ |
| **í­ë ¥** | violence | Integer | ë²”ì£„ í†µê³„ |

#### B. ì„œìš¸ì‹œ ì—´ë¦°ë°ì´í„°ê´‘ì¥ - 5ëŒ€ë²”ì£„ ë°œìƒí˜„í™©

* **URL**: https://data.seoul.go.kr/dataList/316/S/2/datasetView.do
* **ì œê³µë°©ì‹**: í†µê³„ ì¡°íšŒ ë° ë‹¤ìš´ë¡œë“œ
* **ê°±ì‹ ì£¼ê¸°**: ì—° 1íšŒ
* **ì„¤ëª…**: ì„œìš¸ì‹œ êµ¬ë³„ 5ëŒ€ë²”ì£„ ë°œìƒ/ê²€ê±° í˜„í™©

### 2.2 KAKAO MAP API (ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥)

#### A. API ì •ë³´
* **URL**: https://developers.kakao.com/docs/latest/ko/local/dev-guide
* **ì¸ì¦ë°©ì‹**: REST API í‚¤ (ë¬´ë£Œ ì œí•œ: ì¼ 300,000íšŒ)
* **ì‘ë‹µí˜•ì‹**: JSON
* **ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸**:
  - ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰: `/v2/local/search/category`
  - í‚¤ì›Œë“œ ê²€ìƒ‰: `/v2/local/search/keyword`

#### B. ì‹¤ì œ ìˆ˜ì§‘ ê°€ëŠ¥í•œ ì‹œì„¤ë¬¼ ì •ë³´

**ğŸ“Š KAKAO API ì‹¤ì œ ì œê³µ ì¹´í…Œê³ ë¦¬**
| ì‹œì„¤ë¬¼ ìœ í˜• | KAKAO ì½”ë“œ | ìˆ˜ì§‘ ë°©ë²• | ì‹¤ì œ íšë“ ì •ë³´ |
|:---|:---:|:---|:---|
| **í¸ì˜ì ** | CS2 | ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ | ê°œìˆ˜, ì¢Œí‘œ, ê±°ë¦¬, ìƒí˜¸ëª… |
| **ì§€í•˜ì² ì—­** | SW8 | ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ | ê°œìˆ˜, ì¢Œí‘œ, ë…¸ì„ ì •ë³´ |
| **ì€í–‰** | BK9 | ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ | ê°œìˆ˜, ì¢Œí‘œ, ì§€ì ëª… |
| **ë³‘ì›** | HP8 | ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ | ê°œìˆ˜, ì¢Œí‘œ, ë³‘ì›ëª… |
| **ìœ í¥ì—…ì†Œ** | - | í‚¤ì›Œë“œ ê²€ìƒ‰<br/>("ìœ í¥ì£¼ì ") | ê°œìˆ˜, ì¢Œí‘œ, ìƒí˜¸ëª… |
| **íŒŒì¶œì†Œ** | - | í‚¤ì›Œë“œ ê²€ìƒ‰<br/>("íŒŒì¶œì†Œ") | ê°œìˆ˜, ì¢Œí‘œ, ê±°ë¦¬ |

### 2.3 ì „êµ­CCTV í‘œì¤€ë°ì´í„° (íŒŒì¼ ê¸°ë°˜)

#### A. ë°ì´í„° ì†ŒìŠ¤ ì •ë³´
* **URL**: https://www.data.go.kr/data/15013094/standard.do
* **ì œê³µë°©ì‹**: Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ë¬´ë£Œ)
* **ì œê³µê¸°ê´€**: í–‰ì •ì•ˆì „ë¶€ (ê°œì¸ì •ë³´ë³´í˜¸ìœ„ì›íšŒ)
* **ê°±ì‹ ì£¼ê¸°**: ì›” 1íšŒ (ë§¤ì›” ì´ˆ ì—…ë°ì´íŠ¸)

#### B. ì‹¤ì œ ì œê³µ ë°ì´í„° êµ¬ì¡°

**ğŸ“Š ì „êµ­CCTV í‘œì¤€ë°ì´í„° ì‹¤ì œ ì»¬ëŸ¼**
| ì»¬ëŸ¼ëª… | ë°ì´í„° íƒ€ì… | ì„¤ëª… | í™œìš© ë°©ì•ˆ |
|--------|-----------|------|----------|
| **ê´€ë¦¬ê¸°ê´€ëª…** | String | CCTV ê´€ë¦¬ ê¸°ê´€ | ë°ì´í„° í’ˆì§ˆ í™•ì¸ |
| **ì†Œì¬ì§€ë„ë¡œëª…ì£¼ì†Œ** | String | ì„¤ì¹˜ ìœ„ì¹˜ ì£¼ì†Œ | ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜ |
| **ì†Œì¬ì§€ì§€ë²ˆì£¼ì†Œ** | String | ì§€ë²ˆ ì£¼ì†Œ | ì£¼ì†Œ ë§¤ì¹­ |
| **ì„¤ì¹˜ëª©ì êµ¬ë¶„** | String | ìƒí™œë°©ë²”/êµí†µ/ì‹œì„¤ë¬¼ê´€ë¦¬ ë“± | ëª©ì ë³„ ë¶„ë¥˜ |
| **ì¹´ë©”ë¼ëŒ€ìˆ˜** | Integer | í•´ë‹¹ ì§€ì  ì¹´ë©”ë¼ ìˆ˜ | ì§‘ê³„ ë°ì´í„° |
| **ì¹´ë©”ë¼í™”ì†Œìˆ˜** | String | í™”ì†Œ ì •ë³´ | í’ˆì§ˆ ì§€í‘œ |
| **ì´¬ì˜ë°©ë©´ì •ë³´** | String | ì´¬ì˜ ë°©í–¥ | ì»¤ë²„ë¦¬ì§€ ë¶„ì„ |
| **ì„¤ì¹˜ì—°ì›”** | String | ì„¤ì¹˜ ì‹œê¸° | ì‹œê³„ì—´ ë¶„ì„ |
| **ìœ„ë„** | Double | GPS ìœ„ë„ | ê³µê°„ ë¶„ì„ |
| **ê²½ë„** | Double | GPS ê²½ë„ | ê³µê°„ ë¶„ì„ |

### 2.4 ì „êµ­ìŠ¤ë§ˆíŠ¸ê°€ë¡œë“± í‘œì¤€ë°ì´í„° (íŒŒì¼ ê¸°ë°˜)

#### A. ë°ì´í„° ì†ŒìŠ¤ ì •ë³´
* **URL**: https://www.data.go.kr/data/15028205/standard.do
* **ì œê³µë°©ì‹**: Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ë¬´ë£Œ)
* **ê°±ì‹ ì£¼ê¸°**: ê¸°ê´€ë³„ ìƒì´ (ë¶„ê¸°ë³„~ì—°ë³„)

#### B. ì‹¤ì œ ì œê³µ ë°ì´í„° êµ¬ì¡°

**ğŸ“Š ìŠ¤ë§ˆíŠ¸ê°€ë¡œë“± í‘œì¤€ë°ì´í„° ì‹¤ì œ ì»¬ëŸ¼**
| ì»¬ëŸ¼ëª… | ë°ì´í„° íƒ€ì… | ì„¤ëª… | í™œìš© ë°©ì•ˆ |
|--------|-----------|------|----------|
| **ê´€ë¦¬ê¸°ê´€ëª…** | String | ê°€ë¡œë“± ê´€ë¦¬ ê¸°ê´€ | ê´€ë¦¬ ì£¼ì²´ í™•ì¸ |
| **ì†Œì¬ì§€ì£¼ì†Œ** | String | ê°€ë¡œë“± ì„¤ì¹˜ ìœ„ì¹˜ | ìœ„ì¹˜ ê¸°ë°˜ ë¶„ì„ |
| **ì„¤ì¹˜ë…„ë„** | Integer | ì„¤ì¹˜ ì—°ë„ | ì‹œì„¤ ë…¸í›„ë„ ë¶„ì„ |
| **ì „ë ¥ìš©ëŸ‰** | String | ì „ë ¥ ì‚¬ì–‘ | ì¡°ë„ ì¶”ì • |
| **ìœ„ë„** | Double | GPS ìœ„ë„ | ê³µê°„ ë¶„ì„ |
| **ê²½ë„** | Double | GPS ê²½ë„ | ê³µê°„ ë¶„ì„ |

### 2.5 í•œêµ­í˜•ì‚¬ë²•ë¬´ì •ì±…ì—°êµ¬ì› ë²”ì£„í†µê³„ API

#### A. API ì •ë³´
* **URL**: https://www.crimestats.or.kr/portal/openapi/openApiListPage.do
* **ì¸ì¦ë°©ì‹**: ì¸ì¦í‚¤ ë°œê¸‰ (ë¬´ë£Œ)
* **ì œê³µë°ì´í„°**: ë²”ì£„ë¶„ì„(ëŒ€ê²€ì°°ì²­), ë²”ì£„í†µê³„(ê²½ì°°ì²­), ì‚¬ë²•ì—°ê° ë“±
* **ì‘ë‹µí˜•ì‹**: JSON/XML

#### B. ì‹¤ì œ ì œê³µ API ëª©ë¡

**ğŸ“Š CCJS Open API ì‹¤ì œ ì œê³µ ì„œë¹„ìŠ¤**
| APIëª… | ì—”ë“œí¬ì¸íŠ¸ | ì œê³µ ë°ì´í„° | í™œìš© ëª©ì  |
|-------|-----------|-----------|----------|
| **ë²”ì£„í†µê³„ ì¡°íšŒ** | `/statistics/crime` | ë²”ì£„ìœ í˜•ë³„ ë°œìƒ/ê²€ê±° í†µê³„ | ì§€ì—­ë³„ ë²”ì£„ìœ¨ ê³„ì‚° |
| **ì§€ì—­ë³„ ë²”ì£„í˜„í™©** | `/statistics/region` | ì‹œë„ë³„/ì‹œêµ°êµ¬ë³„ ë²”ì£„ í˜„í™© | ê³µê°„ì  ë²”ì£„ ë¶„í¬ |
| **ì‹œê³„ì—´ ë²”ì£„í†µê³„** | `/statistics/timeseries` | ì—°ë„ë³„ ë²”ì£„ ì¶”ì´ | íŠ¸ë Œë“œ ë¶„ì„ |

### 2.6 ê²½ì°°ì„œ/ì§€êµ¬ëŒ€/íŒŒì¶œì†Œ í‘œì¤€ë°ì´í„° (íŒŒì¼ ê¸°ë°˜)

#### A. ë°ì´í„° ì†ŒìŠ¤ ì •ë³´
* **URL**: https://www.data.go.kr/data/15077036/fileData.do
* **ì œê³µë°©ì‹**: Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ë¬´ë£Œ) 
* **ì œê³µê¸°ê´€**: ê²½ì°°ì²­ ë²”ì£„ì˜ˆë°©ëŒ€ì‘êµ­ ì§€ì—­ê²½ì°°ìš´ì˜ê³¼
* **ê°±ì‹ ì£¼ê¸°**: ì—° 1íšŒ (ë§¤ë…„ 12ì›” ì—…ë°ì´íŠ¸)
* **ì„¤ëª…**: ì „êµ­ ì§€êµ¬ëŒ€ ë° íŒŒì¶œì†Œ ì£¼ì†Œ í˜„í™©

#### B. ì‹¤ì œ ì œê³µ ë°ì´í„° êµ¬ì¡°

**ğŸ“Š ê²½ì°°ì„œ/ì§€êµ¬ëŒ€/íŒŒì¶œì†Œ í‘œì¤€ë°ì´í„° ì‹¤ì œ ì»¬ëŸ¼**
| ì»¬ëŸ¼ëª… | ë°ì´í„° íƒ€ì… | ì„¤ëª… | í™œìš© ë°©ì•ˆ |
|--------|-----------|------|----------|
| **ì‹œë„ì²­** | String | ê´€í•  ì‹œë„ | ì§€ì—­ ë¶„ë¥˜ |
| **ê²½ì°°ì„œ** | String | ì†Œì† ê²½ì°°ì„œëª… | ìƒìœ„ ê¸°ê´€ |
| **ê´€ì„œëª…** | String | ì§€êµ¬ëŒ€/íŒŒì¶œì†Œëª… | ì‹œì„¤ ì‹ë³„ |
| **êµ¬ë¶„** | String | ì§€êµ¬ëŒ€/íŒŒì¶œì†Œ êµ¬ë¶„ | ì‹œì„¤ ìœ í˜• ë¶„ë¥˜ |
| **ì „í™”ë²ˆí˜¸** | String | ëŒ€í‘œ ì „í™”ë²ˆí˜¸ | ì—°ë½ì²˜ ì •ë³´ |
| **ì£¼ì†Œ** | String | ì†Œì¬ì§€ ì£¼ì†Œ | ìœ„ì¹˜ ê¸°ë°˜ ë¶„ì„ |

#### C. ì„œìš¸ì‹œ ê²½ì°°ì‹œì„¤ í˜„í™© (2024ë…„ ê¸°ì¤€)

**ğŸ“Š ì„œìš¸ì‹œ ê²½ì°°ì‹œì„¤ ë¶„í¬**
| êµ¬ë¶„ | ê°œìˆ˜ | íŠ¹ì§• | ê´€í•  ë²”ìœ„ |
|------|------|------|----------|
| **ê²½ì°°ì„œ** | 31ê°œ | ìì¹˜êµ¬ë³„ ì„¤ì¹˜ | êµ¬ ë‹¨ìœ„ |
| **ì§€êµ¬ëŒ€** | ì•½ 150ê°œ | ëŒ€ê·œëª¨ ì‹œì„¤ (40-60ëª…) | 2-3ê°œ ë™ |
| **íŒŒì¶œì†Œ** | ì•½ 200ê°œ | ì†Œê·œëª¨ ì‹œì„¤ (20-30ëª…) | 1-2ê°œ ë™ |
| **ì¹˜ì•ˆì„¼í„°** | ì•½ 50ê°œ | ìƒë‹´ ì „ìš© (ì£¼ê°„ë§Œ ìš´ì˜) | íŠ¹ì • ì§€ì—­ |

#### D. ì•ˆì „ì„± ì ìˆ˜ í™œìš© ë°©ì•ˆ

**ìˆ˜ì§‘ ë°©ë²•**
1. ê²½ì°°ì²­ ê³µê³µë°ì´í„°ì—ì„œ Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ
2. ì„œìš¸ì‹œ ë°ì´í„°ë§Œ í•„í„°ë§ (ì‹œë„ì²­ = "ì„œìš¸íŠ¹ë³„ì‹œ")  
3. ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜ (ì§€ì˜¤ì½”ë”©)
4. ê²©ìë³„ ìµœê·¼ì ‘ ê²½ì°°ì‹œì„¤ ë§¤í•‘

**ì•ˆì „ì„± ì ìˆ˜ í™œìš©**
- **ì ‘ê·¼ì„± ì§€ìˆ˜**: ê²©ìì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ê²½ì°°ì‹œì„¤ê¹Œì§€ì˜ ê±°ë¦¬
- **ì¹˜ì•ˆ ë°€ë„**: ê²©ì ì£¼ë³€ 500m ë‚´ ê²½ì°°ì‹œì„¤ ê°œìˆ˜
- **ëŒ€ì‘ë ¥ ì§€ìˆ˜**: ì§€êµ¬ëŒ€(ê³ ) vs íŒŒì¶œì†Œ(ì¤‘) vs ì¹˜ì•ˆì„¼í„°(ì €) ê°€ì¤‘ì¹˜ ì ìš©
- **24ì‹œê°„ ì ‘ê·¼ì„±**: ì¹˜ì•ˆì„¼í„°ëŠ” ì•¼ê°„ ë¹„ìš´ì˜ìœ¼ë¡œ ê°€ì¤‘ì¹˜ ì¡°ì •

---

## 3. ì‹¤ì œ API ì—°ë™ ê¸°ìˆ  ëª…ì„¸

### 3.1 ê¸°ìˆ  ìŠ¤íƒ ë° ì˜ì¡´ì„±

#### A. ì‹¤ì œ êµ¬í˜„ ê¸°ìˆ  ìŠ¤íƒ

```xml
<!-- pom.xml (Maven ê¸°ì¤€) -->
<dependencies>
    <!-- Spring Boot Batch (ë°°ì¹˜ ì²˜ë¦¬) -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-batch</artifactId>
    </dependency>
    
    <!-- Redis (ë°ì´í„° ì €ì¥) -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-redis</artifactId>
    </dependency>
    
    <!-- WebClient (API í˜¸ì¶œ) -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-webflux</artifactId>
    </dependency>
    
    <!-- Excel íŒŒì‹± (Apache POI) -->
    <dependency>
        <groupId>org.apache.poi</groupId>
        <artifactId>poi-ooxml</artifactId>
    </dependency>
    
    <!-- CSV íŒŒì‹± (OpenCSV) -->
    <dependency>
        <groupId>com.opencsv</groupId>
        <artifactId>opencsv</artifactId>
        <version>5.7.1</version>
    </dependency>
    
    <!-- HTTP íŒŒì¼ ë‹¤ìš´ë¡œë“œ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
</dependencies>
```

#### B. í™˜ê²½ ì„¤ì •

```yaml
# application.yml ì‹¤ì œ ì„¤ì •
data-collection:
  batch:
    grid-size: 250  # ê²©ì í¬ê¸° (m)
    seoul-bounds:
      min-lat: 37.413294
      max-lat: 37.715133
      min-lng: 126.734086
      max-lng: 127.269311
  
  file-storage:
    local-path: "./data/downloads/"
    max-file-size: 50MB
  
# ì‹¤ì œ API ì„¤ì •
kakao:
  api:
    rest-api-key: ${KAKAO_REST_API_KEY:your-api-key}
    base-url: https://dapi.kakao.com
    rate-limit: 300000  # ì¼ì¼ í˜¸ì¶œ ì œí•œ (ë¬´ë£Œ í”Œëœ)

ccjs:
  api:
    auth-key: ${CCJS_AUTH_KEY:your-auth-key}
    base-url: https://www.crimestats.or.kr/portal/api
    rate-limit: 1000  # ì¼ì¼ í˜¸ì¶œ ì œí•œ

redis:
  host: localhost
  port: 6379
  database: 0
  timeout: 3000ms
```

### 3.2 ê³µê³µë°ì´í„° íŒŒì¼ ë‹¤ìš´ë¡œë” (ì™„ì „íŒ)

```java
/**
 * ê³µê³µë°ì´í„° íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° íŒŒì‹± ì„œë¹„ìŠ¤ (ì™„ì „íŒ)
 */
@Service
@Slf4j
public class PublicDataFileService {
    
    private final RestTemplate restTemplate;
    private final RedisTemplate<String, Object> redisTemplate;
    
    @Value("${data-collection.file-storage.local-path}")
    private String localStoragePath;
    
    public PublicDataFileService() {
        this.restTemplate = new RestTemplate();
    }
    
    /**
     * ê²½ì°°ì²­ 5ëŒ€ë²”ì£„ Excel íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° íŒŒì‹±
     */
    public List<CrimeStatistics> downloadAndParseCrimeData() {
        try {
            String fileUrl = "https://www.data.go.kr/cmm/fms/FileDown.do?atchFileId=FILE_000000_ê²½ì°°ì²­5ëŒ€ë²”ì£„&fileSn=1";
            String fileName = "police_crime_stats_" + LocalDate.now().toString() + ".xlsx";
            String filePath = downloadFile(fileUrl, fileName);
            
            List<CrimeStatistics> crimeStats = parseExcelCrimeData(filePath);
            
            String redisKey = "crime_stats:police:" + LocalDate.now().getYear();
            redisTemplate.opsForValue().set(redisKey, crimeStats, Duration.ofDays(30));
            
            log.info("ê²½ì°°ì²­ ë²”ì£„í†µê³„ ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ: {} ê±´", crimeStats.size());
            return crimeStats;
            
        } catch (Exception e) {
            log.error("ê²½ì°°ì²­ ë²”ì£„í†µê³„ íŒŒì¼ ì²˜ë¦¬ ì‹¤íŒ¨", e);
            return Collections.emptyList();
        }
    }
    
    /**
     * ì „êµ­CCTV í‘œì¤€ë°ì´í„° ë‹¤ìš´ë¡œë“œ ë° íŒŒì‹±
     */
    public List<CctvInfo> downloadAndParseCctvData() {
        try {
            String fileUrl = "https://www.data.go.kr/cmm/fms/FileDown.do?atchFileId=FILE_000000_ì „êµ­CCTV&fileSn=1";
            String fileName = "national_cctv_" + LocalDate.now().toString() + ".xlsx";
            String filePath = downloadFile(fileUrl, fileName);
            
            List<CctvInfo> cctvList = parseExcelCctvData(filePath);
            
            List<CctvInfo> seoulCctvList = cctvList.stream()
                    .filter(cctv -> cctv.getAddress().contains("ì„œìš¸"))
                    .collect(Collectors.toList());
            
            String redisKey = "cctv_data:seoul:" + LocalDate.now().toString();
            redisTemplate.opsForValue().set(redisKey, seoulCctvList, Duration.ofDays(7));
            
            log.info("ì„œìš¸ì‹œ CCTV ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ: {} ê°œ", seoulCctvList.size());
            return seoulCctvList;
            
        } catch (Exception e) {
            log.error("CCTV ë°ì´í„° íŒŒì¼ ì²˜ë¦¬ ì‹¤íŒ¨", e);
            return Collections.emptyList();
        }
    }
    
    /**
     * ì „êµ­ ê²½ì°°ì‹œì„¤ í‘œì¤€ë°ì´í„° ë‹¤ìš´ë¡œë“œ ë° íŒŒì‹±
     */
    public List<PoliceStationInfo> downloadAndParsePoliceStationData() {
        try {
            String fileUrl = "https://www.data.go.kr/cmm/fms/FileDown.do?atchFileId=FILE_000000_ì „êµ­ì§€êµ¬ëŒ€íŒŒì¶œì†Œ&fileSn=1";
            String fileName = "national_police_stations_" + LocalDate.now().toString() + ".xlsx";
            String filePath = downloadFile(fileUrl, fileName);
            
            List<PoliceStationInfo> policeStationList = parseExcelPoliceStationData(filePath);
            
            List<PoliceStationInfo> seoulPoliceStationList = policeStationList.stream()
                    .filter(station -> station.getProvince().contains("ì„œìš¸"))
                    .collect(Collectors.toList());
            
            String redisKey = "police_station_data:seoul:" + LocalDate.now().toString();
            redisTemplate.opsForValue().set(redisKey, seoulPoliceStationList, Duration.ofDays(30));
            
            log.info("ì„œìš¸ì‹œ ê²½ì°°ì‹œì„¤ ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ: {} ê°œ", seoulPoliceStationList.size());
            return seoulPoliceStationList;
            
        } catch (Exception e) {
            log.error("ê²½ì°°ì‹œì„¤ ë°ì´í„° íŒŒì¼ ì²˜ë¦¬ ì‹¤íŒ¨", e);
            return Collections.emptyList();
        }
    }
    
    /**
     * íŒŒì¼ ë‹¤ìš´ë¡œë“œ ê³µí†µ ë©”ì„œë“œ
     */
    private String downloadFile(String url, String fileName) throws IOException {
        Path targetPath = Paths.get(localStoragePath, fileName);
        Files.createDirectories(targetPath.getParent());
        
        ResponseEntity<byte[]> response = restTemplate.getForEntity(url, byte[].class);
        Files.write(targetPath, response.getBody());
        
        return targetPath.toString();
    }
    
    /**
     * Excel ë²”ì£„í†µê³„ íŒŒì‹±
     */
    private List<CrimeStatistics> parseExcelCrimeData(String filePath) throws IOException {
        List<CrimeStatistics> result = new ArrayList<>();
        
        try (FileInputStream fis = new FileInputStream(filePath);
             Workbook workbook = WorkbookFactory.create(fis)) {
            
            Sheet sheet = workbook.getSheetAt(0);
            Iterator<Row> rowIterator = sheet.iterator();
            
            if (rowIterator.hasNext()) rowIterator.next(); // í—¤ë” ìŠ¤í‚µ
            
            while (rowIterator.hasNext()) {
                Row row = rowIterator.next();
                
                CrimeStatistics stats = CrimeStatistics.builder()
                        .year(getCellValueAsString(row.getCell(0)))
                        .regionName(getCellValueAsString(row.getCell(1)))
                        .murder(getCellValueAsInteger(row.getCell(2)))
                        .robbery(getCellValueAsInteger(row.getCell(3)))
                        .sexualCrime(getCellValueAsInteger(row.getCell(4)))
                        .theft(getCellValueAsInteger(row.getCell(5)))
                        .violence(getCellValueAsInteger(row.getCell(6)))
                        .build();
                        
                result.add(stats);
            }
        }
        
        return result;
    }
    
    /**
     * Excel CCTV ë°ì´í„° íŒŒì‹±
     */
    private List<CctvInfo> parseExcelCctvData(String filePath) throws IOException {
        List<CctvInfo> result = new ArrayList<>();
        
        try (FileInputStream fis = new FileInputStream(filePath);
             Workbook workbook = WorkbookFactory.create(fis)) {
            
            Sheet sheet = workbook.getSheetAt(0);
            Iterator<Row> rowIterator = sheet.iterator();
            
            if (rowIterator.hasNext()) rowIterator.next(); // í—¤ë” ìŠ¤í‚µ
            
            while (rowIterator.hasNext()) {
                Row row = rowIterator.next();
                
                CctvInfo cctvInfo = CctvInfo.builder()
                        .managementOrg(getCellValueAsString(row.getCell(0)))
                        .address(getCellValueAsString(row.getCell(1)))
                        .installPurpose(getCellValueAsString(row.getCell(3)))
                        .cameraCount(getCellValueAsInteger(row.getCell(4)))
                        .latitude(getCellValueAsDouble(row.getCell(8)))
                        .longitude(getCellValueAsDouble(row.getCell(9)))
                        .build();
                        
                result.add(cctvInfo);
            }
        }
        
        return result;
    }
    
    /**
     * Excel ê²½ì°°ì‹œì„¤ ë°ì´í„° íŒŒì‹±
     */
    private List<PoliceStationInfo> parseExcelPoliceStationData(String filePath) throws IOException {
        List<PoliceStationInfo> result = new ArrayList<>();
        
        try (FileInputStream fis = new FileInputStream(filePath);
             Workbook workbook = WorkbookFactory.create(fis)) {
            
            Sheet sheet = workbook.getSheetAt(0);
            Iterator<Row> rowIterator = sheet.iterator();
            
            if (rowIterator.hasNext()) rowIterator.next(); // í—¤ë” ìŠ¤í‚µ
            
            while (rowIterator.hasNext()) {
                Row row = rowIterator.next();
                
                PoliceStationInfo stationInfo = PoliceStationInfo.builder()
                        .province(getCellValueAsString(row.getCell(0)))        // ì‹œë„ì²­
                        .policeStation(getCellValueAsString(row.getCell(1)))   // ê²½ì°°ì„œ
                        .stationName(getCellValueAsString(row.getCell(2)))     // ê´€ì„œëª…
                        .stationType(getCellValueAsString(row.getCell(3)))     // êµ¬ë¶„(ì§€êµ¬ëŒ€/íŒŒì¶œì†Œ)
                        .phoneNumber(getCellValueAsString(row.getCell(4)))     // ì „í™”ë²ˆí˜¸
                        .address(getCellValueAsString(row.getCell(5)))         // ì£¼ì†Œ
                        .build();
                        
                result.add(stationInfo);
            }
        }
        
        return result;
    }
    
    // Cell ê°’ ì¶”ì¶œ ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤
    private String getCellValueAsString(Cell cell) {
        if (cell == null) return "";
        return switch (cell.getCellType()) {
            case STRING -> cell.getStringCellValue();
            case NUMERIC -> String.valueOf((int) cell.getNumericCellValue());
            default -> "";
        };
    }
    
    private Integer getCellValueAsInteger(Cell cell) {
        if (cell == null) return 0;
        return switch (cell.getCellType()) {
            case NUMERIC -> (int) cell.getNumericCellValue();
            case STRING -> {
                try {
                    yield Integer.parseInt(cell.getStringCellValue());
                } catch (NumberFormatException e) {
                    yield 0;
                }
            }
            default -> 0;
        };
    }
    
    private Double getCellValueAsDouble(Cell cell) {
        if (cell == null) return 0.0;
        return switch (cell.getCellType()) {
            case NUMERIC -> cell.getNumericCellValue();
            case STRING -> {
                try {
                    yield Double.parseDouble(cell.getStringCellValue());
                } catch (NumberFormatException e) {
                    yield 0.0;
                }
            }
            default -> 0.0;
        };
    }
}
```

### 3.3 KAKAO MAP API í´ë¼ì´ì–¸íŠ¸

```java
/**
 * KAKAO MAP API ì‹¤ì œ êµ¬í˜„
 */
@Component
@Slf4j
public class KakaoMapApiClient {
    
    private final WebClient webClient;
    
    @Value