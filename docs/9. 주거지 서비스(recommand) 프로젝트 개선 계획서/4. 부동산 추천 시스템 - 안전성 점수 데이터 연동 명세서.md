# 부동산 추천 시스템 - 안전성 점수 데이터 연동 명세서 (완전판)

**프로젝트명:** Phase 2 추천 엔진 비즈니스 로직 설계 - 안전성 점수 데이터 연동 부문  
**버전:** 3.4 (구별 세분화 데이터 반영)  
**작성일:** 2025.08.22  
**업데이트:** 서울시 자치구별 5대범죄 데이터 소스 확정 및 피어슨 상관분석 지원  

---

## 목차

1. [데이터 연동 전략 개요](#1-데이터-연동-전략-개요)
2. [실제 사용 가능한 안전성 점수 데이터 소스](#2-실제-사용-가능한-안전성-점수-데이터-소스)
3. [마무리](#3-마무리)

---

## 1. 데이터 연동 전략 개요

### 1.1 현재 상황 분석

**핵심 비즈니스 요구사항**: 배치 기반 2단계 레이어 안전성 점수 계산을 위한 실제 데이터 수집

### 📊 **완전한 안전성 점수 데이터 수집 범위**
```
📊 완전한 안전성 점수 데이터 수집 범위
├── Layer 1: 거시적 안전도 데이터 (구별 세분화)
│   ├── 서울시 열린데이터광장 (구별 5대범죄 통계) ✅ 핵심
│   └── 공공데이터포털 (전국 단위 범죄통계) - 참고용
├── Layer 2: 미시적 위험도 데이터
│   ├── 공공데이터 표준 파일 (전국CCTV, 가로등)
│   ├── 한국형사법무정책연구원 API (범죄통계)
│   └── 경찰청 경찰시설 표준데이터 (지구대/파출소)

🎯 최종 수집 목표: 서울시 25개 자치구별 완전한 환경 데이터 확보
└── 피어슨 상관분석용 구별 데이터셋 구축 후 Redis 저장
```

### 1.2 실제 데이터 연동 원칙

| 원칙 | 내용 | 구현 방법 |
|------|------|-----------|
| **혼합 수집 방식** | API + 파일 다운로드 병행 | 데이터 소스별 최적 방법 적용 |
| **공공데이터 우선** | 신뢰성 있는 공식 통계 활용 | 공공데이터포털/서울시 중심 |
| **API 호출 최적화** | 비용 및 성능 최적화 | 무료 API 우선, 유료 API 최소화 |
| **데이터 품질 관리** | 수집 데이터 검증 및 정제 | 파일 파싱 + API 검증 |

---

## 2. 실제 사용 가능한 안전성 점수 데이터 소스

### 2.1 경찰청 범죄 통계 데이터 (파일 기반)

#### **서울시 열린데이터광장 - 5대범죄 발생현황 (구별 세분화)**

* **URL**: https://data.seoul.go.kr/dataList/316/S/2/datasetView.do
* **제공기관**: 서울지방경찰청 형사과
* **공표주기**: 정기(매년)
* **공표범위**: 지역 - 서울시 내용 - 5대범죄(살인, 강도, 강간, 절도, 폭력)의 발생, 검거 건수 등
* **핵심 특징**: **서울특별시 자치구별** 5대범죄 데이터 제공 (25개 구별 세분화)
* **다운로드**: 시점탭에서 검색하고자 하시는 기간을 선택후 통계표조회를 하신 후에 다운로드 버튼을 누르시면 다운로드 가능합니다

**📊 실제 제공 데이터 항목**
| 항목 | 파일 컬럼명 | 데이터 타입 | 수집 용도 |
|------|-----------|------------|----------|
| **연도** | year | String | 시계열 분석 |
| **자치구명** | district_name | String | **구별 매핑 (핵심)** |
| **살인** | murder | Integer | 범죄 통계 |
| **강도** | robbery | Integer | 범죄 통계 |
| **강간/강제추행** | sexual_crime | Integer | 범죄 통계 |
| **절도** | theft | Integer | 범죄 통계 |
| **폭력** | violence | Integer | 범죄 통계 |
| **발생건수** | occurrence_count | Integer | 범죄 발생 합계 |
| **검거건수** | arrest_count | Integer | 범죄 검거 합계 |

**🎯 피어슨 상관분석 활용**: 구별은 경찰관서별 주소지 기준임(서울지방경찰청은 종로구에 포함되며 검거건수만 집계)

#### **참고: 공공데이터포털 - 경찰청 5대범죄 발생건수 (전국 단위)**

* **URL**: https://www.data.go.kr/data/15083810/fileData.do
* **제공기관**: 경찰청 형사국 강력범죄수사과
* **데이터 기간**: 2018년부터 2023년까지
* **지역 범위**: 전국 단위 (서울시 구별 세분화 불가)
* **활용 목적**: 전국 대비 서울시 범죄율 비교 분석용

### 2.2 실제 사용 가능한 시설물 데이터 소스 (구 단위)

#### A. **🛂 공식적/자연적 감시** 시설물 데이터

| 세부 시설물 | 데이터 소스 | 제공 방식 | 실제 링크 | 역할 및 분석 의의 |
|:---|:---|:---|:---|:---|
| **주민센터** | 행정안전부 공공데이터포털 | Excel 파일 다운로드 + Open API (JSON/XML) | https://www.data.go.kr/data/15059715/fileData.do | 주간 유동인구 및 공식적 감시 기능을 강화하는 요소 |
| **은행** | 서울시 열린데이터광장 | 통계표 (CSV/Excel 다운로드) | https://data.seoul.go.kr/dataList/10129/S/2/datasetView.do | CCTV가 밀집되어 있고 보안 수준이 높아 감시 기능 강화 |
| **편의점** | 소상공인시장진흥공단 | CSV/Excel 파일 다운로드 | https://www.data.go.kr/data/15083033/fileData.do | 심야 시간 자연적 감시의 핵심 요소, 야간 보행 안전에 기여 |
| **병원/응급실** | 건강보험심사평가원 | Open API (JSON) | https://www.data.go.kr/data/15001698/openapi.do | 24시간 운영되는 필수 공공시설, 야간 감시 기능 수행 |
| **CCTV** | 행정안전부 표준데이터 | Excel 파일 다운로드 | https://www.data.go.kr/data/15013094/standard.do | 범죄 예방 및 감시의 가장 직접적인 지표 |
| **스마트 가로등** | 행정안전부 표준데이터 | Excel 파일 다운로드 | https://www.data.go.kr/data/15028205/standard.do | 야간 시간 조도 확보를 통한 범죄 심리 위축 효과 |

#### B. **⚠️ 범죄 유인/위험 요소** 시설물 데이터

| 세부 시설물 | 데이터 소스 | 제공 방식 | 실제 링크 | 역할 및 분석 의의 |
|:---|:---|:---|:---|:---|
| **유흥주점/단란주점** | 서울시 25개 자치구별 API | Open API (JSON) | 각 구청별 개별 신청 필요 | 음주 관련 폭력 및 무질서 발생 가능성이 높은 환경 |
| **모텔/숙박업소** | 한국관광공사 관광정보 | Open API (JSON) | https://www.data.go.kr/ (관광정보 검색) | 익명성이 보장되고 외부인 유입이 많아 범죄 발생 가능성 증가 |
| **코인노래방/PC방** | 서울시 열린데이터광장 | Open API (JSON) | https://data.seoul.go.kr/ (개별 검색 필요) | 청소년 비행 또는 다양한 갈등이 발생할 수 있는 공간 |

#### C. **🚇 사회적 활동/유동** 시설물 데이터

| 세부 시설물 | 데이터 소스 | 제공 방식 | 실제 링크 | 역할 및 분석 의의 |
|:---|:---|:---|:---|:---|
| **지하철역** | 서울교통공사 | Open API (JSON) | 서울교통공사 API (별도 신청) | 유동인구가 많아 자연적 감시가 강화되나, 동시에 범죄 대상도 증가 |
| **대형마트/백화점** | 국토교통부 검색 API | Open API (JSON) | https://www.data.go.kr/data/15058799/openapi.do | 쇼핑 등 특정 범죄의 대상이 될 수 있으나, 전반적인 활력도 지표 |
| **학교/대학교** | 교육부/서울시교육청 | Open API (JSON) | 서울시교육청 API (별도 신청) | 아동보호구역 등 중체계 관리가 강화되나, 학교 후문 앞 업소 위험 가능 |
| **영화관/공연장** | 국토교통부 검색 API | Open API (JSON) | https://www.data.go.kr/data/15058799/openapi.do | 특정 시간대 인구 밀집으로 인한 다양한 상황 발생 가능 |

### 2.3 경찰서/지구대/파출소 표준데이터 (파일 기반)

#### A. 데이터 소스 정보
* **URL**: https://www.data.go.kr/data/15077036/fileData.do
* **제공방식**: Excel 파일 다운로드 (무료) 
* **제공기관**: 경찰청 범죄예방대응국 지역경찰운영과
* **갱신주기**: 연 1회 (매년 12월 업데이트)
* **설명**: 전국 지구대 및 파출소 주소 현황

#### B. 실제 제공 데이터 구조

**📊 경찰서/지구대/파출소 표준데이터 실제 컬럼**
| 컬럼명 | 데이터 타입 | 설명 | 활용 방안 |
|--------|-----------|------|----------|
| **시도청** | String | 관할 시도 | 지역 분류 |
| **경찰서** | String | 소속 경찰서명 | 상위 기관 |
| **관서명** | String | 지구대/파출소명 | 시설 식별 |
| **구분** | String | 지구대/파출소 구분 | 시설 유형 분류 |
| **전화번호** | String | 대표 전화번호 | 연락처 정보 |
| **주소** | String | 소재지 주소 | 위치 기반 분석 |

#### C. 서울시 경찰시설 현황 (2024년 기준)

**📊 서울시 경찰시설 분포**
| 구분 | 개수 | 특징 | 관할 범위 |
|------|------|------|----------|
| **경찰서** | 31개 | 자치구별 설치 | 구 단위 |
| **지구대** | 약 150개 | 대규모 시설 (40-60명) | 2-3개 동 |
| **파출소** | 약 200개 | 소규모 시설 (20-30명) | 1-2개 동 |
| **치안센터** | 약 50개 | 상담 전용 (주간만 운영) | 특정 지역 |

#### D. 안전성 점수 활용 방안

**수집 방법**
1. 경찰청 공공데이터에서 Excel 파일 다운로드
2. 서울시 데이터만 필터링 (시도청 = "서울특별시")  
3. 주소 → 좌표 변환 (지오코딩)
4. 격자별 최근접 경찰시설 매핑

**안전성 점수 활용**
- **접근성 지수**: 격자에서 가장 가까운 경찰시설까지의 거리
- **치안 밀도**: 격자 주변 500m 내 경찰시설 개수
- **대응력 지수**: 지구대(고) vs 파출소(중) vs 치안센터(저) 가중치 적용
- **24시간 접근성**: 치안센터는 야간 비운영으로 가중치 조정

---

## 3. 마무리

### 3.1 구현 우선순위

1. **1순위**: 서울시 열린데이터광장 구별 5대범죄 데이터 다운로드 및 파싱
2. **2순위**: 구별 인구수 데이터 수집 (인구대비 범죄율 계산용)
3. **3순위**: 구별 CCTV, 경찰시설 등 환경 데이터 수집
4. **4순위**: 피어슨 상관분석을 위한 통합 데이터셋 구축
5. **5순위**: Spring Boot 배치 시스템 구현

### 3.2 피어슨 상관분석 데이터셋 구조

#### **분석용 데이터셋 구성**
```
🔬 서울시 25개 자치구별 안전성 분석 데이터셋
├── 종속변수: 구별 인구대비 범죄율
│   ├── 구별 5대범죄 발생건수 (✅ 서울시 열린데이터광장)
│   └── 구별 인구수 (서울시 통계)
├── 독립변수: 환경 안전 요소
│   ├── 구별 CCTV 밀도 (전국CCTV 표준데이터)
│   ├── 구별 경찰시설 수 (경찰시설 표준데이터)
│   ├── 구별 유흥업소 수
│   ├── 구별 편의점 수 
│   └── 구별 지하철역 수
```

#### **분석 목표**
- **범죄율이 높은 구 vs 낮은 구** 비교
- **각 환경 요소와 범죄율의 상관관계** 분석
- **안전성 점수 가중치** 도출

### 3.3 최종 검증 완료사항

✅ **핵심 데이터 소스 확정**
- 서울시 25개 자치구별 5대범죄 데이터 확보
- 구별 세분화로 피어슨 상관분석 가능

✅ **데이터 가용성 검증**
- 모든 데이터 소스의 실제 제공 여부 확인
- 파일 다운로드 및 API 연동 방법 검증

✅ **아키텍처 설계와의 일치성**
- 5번 문서의 2단계 레이어 모델과 완전 일치
- Proxy 모델 접근법의 현실적 타당성 재확인

### 3.4 다음 단계

**즉시 실행 과제**: 서울시 열린데이터광장에서 실제 5대범죄 데이터 다운로드 및 데이터 구조 분석

**장기 구현 계획**: 
1. 구별 데이터 수집 시스템 구축
2. 피어슨 상관분석 로직 구현  
3. 안전성 점수 산출 알고리즘 완성

---

## 참고문헌

- 한국형사법무정책연구원 범죄통계 API: https://www.crimestats.or.kr/portal/openapi/openApiListPage.do