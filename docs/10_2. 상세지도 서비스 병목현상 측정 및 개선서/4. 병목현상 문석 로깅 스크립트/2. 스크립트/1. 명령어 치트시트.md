# 명령어 치트시트

## 기본 명령어

### 설치
```bash
# Python 버전 확인
python --version

# 필수 라이브러리 설치
pip install pandas openpyxl

# 설치된 라이브러리 확인
pip list | findstr "pandas openpyxl"
```

---

## 실행 명령어

### 전체 실행 (자동)
```bash
# 배치 파일 실행
run_all.bat

# 또는 명령 프롬프트에서
cd C:\workspace\performance_analysis
run_all.bat
```

### R-01: 9-Block 그리드 계산
```bash
python r01_data_extractor.py
python r01_report_generator.py
```

### R-02: 캐시 조회
```bash
python r02_data_extractor.py
python r02_report_generator.py
```

### R-03: DB 조회
```bash
python r03_data_extractor.py
python r03_report_generator.py
```

### R-04: 외부 API 호출
```bash
python r04_data_extractor.py
python r04_report_generator.py
```

### R-05: 데이터 통합 및 필터링
```bash
python r05_data_extractor.py
python r05_report_generator.py
```

### R-06: 점수 계산
```bash
python r06_data_extractor.py
python r06_report_generator.py
```

### R-07: 최종 응답 생성
```bash
python r07_data_extractor.py
python r07_report_generator.py
```

---

## 파일 확인 명령어

### 로그 파일 확인
```bash
# 파일 존재 확인
dir E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log

# 파일 크기 확인
dir E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log | findstr wherehouse.log

# 로그 파일 내용 확인 (첫 10줄)
type E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log | more
```

### 결과 파일 확인
```bash
# 결과 폴더 내용 확인
dir E:\devSpace\results

# 특정 단계 결과 확인
dir E:\devSpace\results\r01

# 모든 Excel 파일 목록
dir /s E:\devSpace\results\*.xlsx

# 모든 JSON 파일 목록
dir /s E:\devSpace\results\*.json
```

### Python 파일 확인
```bash
# 현재 폴더의 Python 파일
dir *.py

# 공통 유틸리티 확인
dir extractor_utils.py
dir generator_utils.py

# 모든 Extractor 확인
dir *_data_extractor.py

# 모든 Generator 확인
dir *_report_generator.py
```

---

## 결과 열기 명령어

### Excel 파일 열기
```bash
# R-01 결과
start E:\devSpace\results\r01\r01_analysis.xlsx

# R-02 결과
start E:\devSpace\results\r02\r02_analysis.xlsx

# 모든 결과 한 번에 열기
for /d %D in (E:\devSpace\results\r*) do start %D\*.xlsx
```

### 폴더 열기
```bash
# 결과 폴더
start E:\devSpace\results

# 특정 단계 폴더
start E:\devSpace\results\r01
```

---

## 디버깅 명령어

### Python 모듈 확인
```bash
# pandas 설치 확인
python -c "import pandas; print(pandas.__version__)"

# openpyxl 설치 확인
python -c "import openpyxl; print(openpyxl.__version__)"

# 공통 유틸리티 import 확인
python -c "from extractor_utils import parse_ndjson_log; print('OK')"
```

### 스크립트 검증
```bash
# Python 문법 검사
python -m py_compile r01_data_extractor.py

# 모든 스크립트 문법 검사
for %f in (*.py) do python -m py_compile %f
```

---

## 경로 관련 명령어

### 현재 경로 확인
```bash
# 현재 작업 디렉토리
cd

# 절대 경로 확인
cd /d C:\workspace\performance_analysis && cd
```

### 폴더 이동
```bash
# 스크립트 폴더로 이동
cd C:\workspace\performance_analysis

# 결과 폴더로 이동
cd E:\devSpace\results

# 로그 폴더로 이동
cd E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log
```

### 폴더 생성
```bash
# 결과 폴더 수동 생성 (자동 생성되므로 보통 불필요)
mkdir E:\devSpace\results\r01
mkdir E:\devSpace\results\r02
mkdir E:\devSpace\results\r03
mkdir E:\devSpace\results\r04
mkdir E:\devSpace\results\r05
mkdir E:\devSpace\results\r06
mkdir E:\devSpace\results\r07
```

---

## 정리 명령어

### 결과 삭제
```bash
# 특정 단계 결과 삭제
del /q E:\devSpace\results\r01\*.*

# 모든 결과 삭제 (주의)
del /s /q E:\devSpace\results\*.*

# Excel 파일만 삭제
del /s /q E:\devSpace\results\*.xlsx

# JSON 파일만 삭제
del /s /q E:\devSpace\results\*.json
```

### 백업
```bash
# 결과 폴더 백업
xcopy /E /I /Y E:\devSpace\results E:\devSpace\results_backup

# 날짜별 백업
set TIMESTAMP=%date:~0,4%%date:~5,2%%date:~8,2%
xcopy /E /I /Y E:\devSpace\results E:\devSpace\results_backup_%TIMESTAMP%
```

---

## 성능 모니터링

### 실행 시간 측정
```bash
# Windows
echo %time%
python r01_data_extractor.py
echo %time%
```

### PowerShell에서 측정
```powershell
# PowerShell
Measure-Command { python r01_data_extractor.py }
```

---

## 고급 명령어

### 한 줄 실행
```bash
# R-01 한 번에 실행 (Extractor + Generator)
python r01_data_extractor.py && python r01_report_generator.py

# 에러 시 중단
python r01_data_extractor.py && python r01_report_generator.py || echo "실패"
```

### 로그 파일 검색
```bash
# R-01 로그만 grep (PowerShell)
findstr "R-01" E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log

# PERFORMANCE 이벤트만 검색
findstr "PERFORMANCE" E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log

# 특정 traceId 검색
findstr "wydm9qw" E:\devSpace\SpringBootProjects\wherehouse_SpringBoot-master\wherehouse\log\wherehouse.log
```

### 배치 파일 편집
```bash
# 메모장으로 편집
notepad run_all.bat

# Visual Studio Code로 편집 (설치된 경우)
code run_all.bat
```

---

## 환경 변수 설정

### Python 경로 확인
```bash
# Python 실행 파일 위치
where python

# pip 실행 파일 위치
where pip
```

### 환경 변수 추가
```bash
# PATH에 Python 추가 (영구적)
setx PATH "%PATH%;C:\Python311"
```

---

## Windows PowerShell 버전

### 기본 명령어
```powershell
# 전체 실행
.\run_all.bat

# 개별 실행
python r01_data_extractor.py
python r01_report_generator.py

# 결과 열기
Start-Process E:\devSpace\results\r01\r01_analysis.xlsx
```

### 고급 명령어
```powershell
# 모든 Excel 파일 열기
Get-ChildItem E:\devSpace\results\*\*.xlsx | ForEach-Object { Start-Process $_.FullName }

# 실행 시간 측정
Measure-Command { python r01_data_extractor.py }

# 파일 검색
Get-ChildItem -Recurse -Filter "*.xlsx" E:\devSpace\results
```

---