@startuml

skinparam backgroundColor #F8FAFC
skinparam defaultFontName Arial
skinparam defaultFontSize 10

skinparam rectangle {
    BackgroundColor #FFFFFF
    BorderColor #2563EB
    RoundCorner 8
}

' ===== 가로 배치를 위한 숨김 연결 =====
together {
    rectangle "Client\n(Browser)" as client
    rectangle "HTTPS\nTLS 1.2\n암호화" as https #10B981
    rectangle "Controller\n(API)" as controller
}

rectangle "Spring Security" as security {
    together {
        rectangle "LoginFilter" as login #2563EB
        rectangle "JwtAuthFilter" as jwt #2563EB
        rectangle "CSP" as csp #64748B
    }
    together {
        rectangle "BCrypt+JWT" as bcrypt
        rectangle "Context" as context
    }
}

rectangle "HttpOnly\nCookie" as cookie #FEF3C7

' ===== 연결 =====
client -> https
https -> security
security -> controller
login --> bcrypt
jwt --> context
bcrypt --> cookie : JWT

@enduml